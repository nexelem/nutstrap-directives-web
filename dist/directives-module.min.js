(function(){directivesModule.directive("appVersion",function(){return{restrict:"E",scope:{bversion:"=version",bdate:"=date"},template:'<p>Version: {{bversion}} <span class="text-muted">({{bdate}})</span></p>'}})}).call(this),function(){directivesModule.directive("isRequired",function($log){return{restrict:"A",link:function(scope,element,attrs){var computationValue,elementText,field,fieldValidationString,formAttributesToWatch,i,j,len;for(elementText=element[0].innerHTML,formAttributesToWatch=attrs.isRequired.match(/\[(.*?)\]/)?eval(attrs.isRequired):[attrs.isRequired],(null===elementText||0===elementText.length)&&$log.error("IsRequired : No label value found for "+attrs.isRequired),fieldValidationString="",i=j=0,len=formAttributesToWatch.length;len>j;i=++j)field=formAttributesToWatch[i],computationValue=field+".$invalid && "+field+".$error.required",fieldValidationString+=i<formAttributesToWatch.length-1?computationValue+" , ":computationValue;return scope.$watchCollection("["+fieldValidationString+"]",function(resultValues){return-1===resultValues.indexOf(!0)?(element.empty(),element.append(elementText)):(element.empty(),element.append(elementText+" *"))})}}})}.call(this),function(){var CURRENCY_REGEXP;CURRENCY_REGEXP=/^\d+(\.?\d?\d?)?$/,directivesModule.directive("currencyInPence",function($log,$filter){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){return this.penceToPound=function(value){return void 0!==value?(parseFloat(value)/100).toFixed(2):0},this.poundsToPence=function(value){return void 0!==value?100*parseFloat(value):0},ctrl.$parsers.unshift(function(_this){return function(viewValue){return CURRENCY_REGEXP.test(viewValue)?(ctrl.$setValidity("currency",!0),_this.poundsToPence(viewValue)):""===viewValue?(ctrl.$setValidity("currency",!1),0):void ctrl.$setValidity("currency",!1)}}(this)),ctrl.$render=function(_this){return function(){return elm.val(_this.penceToPound(ctrl.$modelValue))}}(this)}}})}.call(this),function(){directivesModule.directive("characterCount",function($log,$filter){return{restrict:"E",replace:!0,scope:!0,template:"<sub>{{remainingCount}} {{message}}</sub>",link:function(scope,element,attrs){return attrs.count||$log.error("No length attribute specified"),attrs.field||$log.error("No field attribute specified"),scope.$watch(attrs.field,function(newValue,oldValue){return void 0===newValue?(scope.remainingCount="",scope.message=""):""===newValue&&oldValue?(scope.remainingCount=attrs.count,scope.message="characters left"):newValue?(scope.remainingCount=newValue.length>=attrs.count?0:attrs.count-newValue.length,scope.message=(attrs.count-newValue.length===1?"character":"characters")+" left"):(scope.remainingCount="",scope.message="")})}}})}.call(this),function(){directivesModule.directive("passwordValidate",function($log,$filter){return{restrict:"A",require:"^ngModel",link:function(scope,elm,attrs,ctrl){return ctrl.$parsers.unshift(function(_this){return function(viewValue){var pwdContainsNumber,pwdValidLength;return viewValue=viewValue||"",pwdValidLength=viewValue.length>=7,pwdContainsNumber=/^(?=.*[0-9])/.test(viewValue),$log.info("Password validation : Length Check ["+pwdValidLength+"], Number Check ["+pwdContainsNumber+"]"),pwdValidLength&&pwdContainsNumber||0===viewValue.length?(ctrl.$setValidity("password",!0),viewValue):void ctrl.$setValidity("password",!1)}}(this)),ctrl.$render=function(_this){return function(){return elm.val(ctrl.$modelValue)}}(this)}}})}.call(this),function(){directivesModule.directive("validJson",function($log){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){return ctrl.$parsers.unshift(function(_this){return function(viewValue){var e,valid;valid=!0;try{JSON.parse(viewValue)}catch(_error){e=_error,valid=!1}return ctrl.$setValidity("validjson",valid),viewValue}}(this))}}})}.call(this),function(){directivesModule.directive("autoFillableField",["$timeout",function($timeout){return{require:"^ngModel",restrict:"A",link:function(scope,element,attrs,ngModel){return $timeout(function(){return ngModel.$viewValue!==element.val()&&""!==element.val()?ngModel.$setViewValue(element.val()):void 0},500)}}}])}.call(this);